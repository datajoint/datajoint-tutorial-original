<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Querying and fetching data &mdash; DataJoint Tutorials  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/datajoint_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Defining dependent table" href="child-table.html" />
    <link rel="prev" title="Saving your data pipeline" href="save-tables.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html">
            <img src="../../../_static/djTutorialLogoWhite.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../setting-up/introduction.html">Setting up for DataJoint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/introduction.html#system-requirements">System requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/introduction.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../setting-up/get-database.html">Getting connected to a database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/get-database.html#connect-to-datajoint-io-recommended">Connect to DataJoint.io (Recommended)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/get-database.html#signing-up-to-datajoint-io-account">Signing up to DataJoint.io account</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/get-database.html#setting-up-a-local-database-server-intermediate">Setting up a local database server (Intermediate)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/local-database.html">Setting Up a Local Database Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../setting-up/local-database.html#setting-up-database-using-docker">Setting up database using Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../setting-up/local-database.html#why-docker">Why Docker?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../setting-up/local-database.html#installing-docker">Installing Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../setting-up/local-database.html#launching-a-database-server">Launching a database server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../setting-up/local-database.html#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/get-database.html#setting-up-a-database-server-on-another-machine-advanced">Setting up a database server on another machine (Advanced)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/get-database.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../setting-up/datajoint-python.html">Installing DataJoint for Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-python.html#system-requirements">System requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-python.html#installing-the-datajoint-package">Installing the DataJoint Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/datajoint-python.html#upgrading-datajoint">Upgrading DataJoint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-python.html#configuring-datajoint">Configuring DataJoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/datajoint-python.html#changing-password">Changing password</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-python.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html">Installing DataJoint for MATLAB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#system-requirements">System requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#installing-the-datajoint-toolbox">Installing the DataJoint Toolbox</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#upgrading-datajoint">Upgrading DataJoint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#configuring-datajoint">Configuring DataJoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#changing-password">Changing password</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../setting-up/datajoint-matlab.html#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Building your first data pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../index.html#what-s-covered-in-this-tutorial">What’s covered in this tutorial?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#designing-data-pipelines-for-your-experiments">Designing data pipelines for your experiments</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html#building-in-python">Building in Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="first-table.html">Defining your first table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="first-table.html#creating-a-schema">Creating a schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="first-table.html#defining-the-mouse-table-class">Defining the Mouse table class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="first-table.html#table-classes">Table classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="first-table.html#table-definition">Table definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="first-table.html#defining-a-table-in-a-schema">Defining a table in a schema</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="first-table.html#creating-the-table-in-the-data-pipeline">Creating the table in the data pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="first-table.html#what-if-i-make-a-mistake">What if I make a mistake?</a></li>
<li class="toctree-l3"><a class="reference internal" href="first-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="inserting-data.html">Populating the table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inserting-data.html#inserting-one-entry-at-a-time">Inserting one entry at a time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="inserting-data.html#inserting-a-tuple-list">Inserting a tuple/list</a></li>
<li class="toctree-l4"><a class="reference internal" href="inserting-data.html#inserting-a-dictionary">Inserting a dictionary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="inserting-data.html#inserting-multiple-entries-at-a-time">Inserting multiple entries at a time</a></li>
<li class="toctree-l3"><a class="reference internal" href="inserting-data.html#data-integrity">Data integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="inserting-data.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="save-tables.html">Saving your data pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="save-tables.html#where-is-my-data-pipeline-stored">Where is my data pipeline stored?</a></li>
<li class="toctree-l3"><a class="reference internal" href="save-tables.html#saving-your-table-code">Saving your table code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="save-tables.html#defining-your-table-module">Defining your table module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="save-tables.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Querying and fetching data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fetching-all-the-data">Fetching all the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetching-specific-attributes">Fetching specific attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#querying-data">Querying Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#restricting-by-attribute-value">Restricting by attribute value</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-inequality-in-restriction">Using inequality in restriction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#combining-restrictions">Combining restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restricting-by-a-dictionary">Restricting by a dictionary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fetching-query-results">Fetching query results</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deleting-entires">Deleting entires</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="child-table.html">Defining dependent table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="child-table.html#defining-session-table">Defining <code class="docutils literal notranslate"><span class="pre">Session</span></code> table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="child-table.html#for-dependency-specification"><code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> for dependency specification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="child-table.html#dependency-in-action">Dependency in action</a></li>
<li class="toctree-l3"><a class="reference internal" href="child-table.html#integrity-with-table-dependencies">Integrity with table dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="child-table.html#deleting-dependent-entries">Deleting dependent entries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="child-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="more-queries.html">Queries with multiple tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="more-queries.html#restriction-by-other-table">Restriction by other table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="more-queries.html#combining-restricitions">Combining restricitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="more-queries.html#difference-operator">Difference Operator <code class="docutils literal notranslate"><span class="pre">-</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="more-queries.html#join-operator">Join operator <code class="docutils literal notranslate"><span class="pre">*</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="more-queries.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="importing-data.html">Importing data into a table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#setting-up-tables">Setting up tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#getting-the-data">Getting the data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="importing-data.html#macos">MacOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="importing-data.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="importing-data.html#linux">Linux</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#data-files">Data files</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#imported-table">Imported table</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#populate-method"><code class="docutils literal notranslate"><span class="pre">populate</span></code> method</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#implementing-make">Implementing <code class="docutils literal notranslate"><span class="pre">make</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#populating-neuron-table">Populating <code class="docutils literal notranslate"><span class="pre">Neuron</span></code> table</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#multiple-calls-to-populate">Multiple calls to populate</a></li>
<li class="toctree-l3"><a class="reference internal" href="importing-data.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="computed-table.html">Computation in data pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="computed-table.html#computing-statistics-on-neural-activities">Computing statistics on neural activities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#computed-tables">Computed tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#computing-neuron-activity-statistics">Computing neuron activity statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#populating-neuron-statistics">Populating neuron statistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="computed-table.html#detecting-spikes-from-neural-activity">Detecting spikes from neural activity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#defining-lookup-tables">Defining Lookup tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#defining-spikedetection-table">Defining <code class="docutils literal notranslate"><span class="pre">SpikeDetection</span></code> table</a></li>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#populating-spikes">Populating <code class="docutils literal notranslate"><span class="pre">Spikes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="computed-table.html#seeing-them-all-together">Seeing them all together</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="computed-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#building-in-matlab">Building in MATLAB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../matlab/first-table.html">Defining your first table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#creating-a-schema">Creating a schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#defining-the-mouse-table-class">Defining the Mouse table class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/first-table.html#table-classes">Table classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/first-table.html#table-definition">Table definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/first-table.html#defining-a-table-in-a-schema">Defining a table in a schema</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#creating-the-table-in-the-data-pipeline">Creating the table in the data pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#what-if-i-make-a-mistake">What if I make a mistake?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#where-is-my-data-pipeline-stored">Where is my data pipeline stored?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/first-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/inserting-data.html">Populating the table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/inserting-data.html#inserting-one-entry-at-a-time">Inserting one entry at a time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/inserting-data.html#inserting-a-tuple-list">Inserting a tuple/list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/inserting-data.html#inserting-a-structure">Inserting a structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/inserting-data.html#inserting-multiple-entries-at-a-time">Inserting multiple entries at a time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/inserting-data.html#data-integrity">Data integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/inserting-data.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/querying-data.html">Querying and fetching data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#fetching-all-the-data">Fetching all the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#fetching-specific-attributes">Fetching specific attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#querying-data">Querying Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/querying-data.html#restricting-by-attribute-value">Restricting by attribute value</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/querying-data.html#using-inequality-in-restriction">Using inequality in restriction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/querying-data.html#combining-restrictions">Combining restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/querying-data.html#restricting-by-a-structure">Restricting by a structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#fetching-query-results">Fetching query results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#deleting-entries">Deleting entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/querying-data.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/child-table.html">Defining dependent tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/child-table.html#defining-tutorial-session-table">Defining <code class="docutils literal notranslate"><span class="pre">tutorial.Session</span></code> table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/child-table.html#for-dependency-specification"><code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> for dependency specification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/child-table.html#dependency-in-action">Dependency in action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/child-table.html#integrity-with-table-dependencies">Integrity with table dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/child-table.html#deleting-dependent-entries">Deleting dependent entries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/child-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/more-queries.html">Queries with multiple tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/more-queries.html#restriction-by-other-table">Restriction by other table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/more-queries.html#combining-restrictions">Combining restrictions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/more-queries.html#difference-operator">Difference Operator <code class="docutils literal notranslate"><span class="pre">-</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/more-queries.html#join-operator">Join operator <code class="docutils literal notranslate"><span class="pre">*</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/more-queries.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/importing-data.html">Importing data into a table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#setting-up-tables">Setting up tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#getting-the-data">Getting the data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/importing-data.html#macos">MacOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/importing-data.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/importing-data.html#linux">Linux</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#data-files">Data files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#imported-table">Imported table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#populate-method"><code class="docutils literal notranslate"><span class="pre">populate</span></code> method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#implementing-maketuples">Implementing <code class="docutils literal notranslate"><span class="pre">makeTuples</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#populating-neuron-table">Populating <code class="docutils literal notranslate"><span class="pre">Neuron</span></code> table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#multiple-calls-to-populate">Multiple calls to populate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/importing-data.html#what-s-next">What’s next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/computed-table.html">Computation in data pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../matlab/computed-table.html#performing-computation-on-data">Performing computation on data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/computed-table.html#defining-computed-tables">Defining computed tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/computed-table.html#detecting-spikes-from-neural-activity">Detecting spikes from neural activity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../matlab/computed-table.html#defining-lookup-tables">Defining Lookup tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/computed-table.html#defining-spikes-table">Defining <code class="docutils literal notranslate"><span class="pre">Spikes</span></code> table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/computed-table.html#populating-spikes">Populating <code class="docutils literal notranslate"><span class="pre">Spikes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../matlab/computed-table.html#seeing-them-all-together">Seeing them all together</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../matlab/computed-table.html#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DataJoint Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Building your first data pipeline</a> &raquo;</li>
      <li>Querying and fetching data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/beginner/building-first-pipeline/python/querying-data.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="querying-and-fetching-data">
<h1>Querying and fetching data<a class="headerlink" href="#querying-and-fetching-data" title="Permalink to this headline"></a></h1>
<p>Now that we covered how to insert data into the table, you might be wondering how to retreive it. In this section, we will explore not only how to fetch the data, but how to
narrow down and only fetch the data you want. But first let’s start with the simplest case -
let’s fetch all the data in the table.</p>
<section id="fetching-all-the-data">
<h2>Fetching all the data<a class="headerlink" href="#fetching-all-the-data" title="Permalink to this headline"></a></h2>
<p>You can fetch all the data stored in a table by simply calling the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> method on the table object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">mouse</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span>    <span class="c1"># this retrieves all data in the table</span>
</pre></div>
</div>
<p>By default the data is retrieved as numpy structured array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">array([(  0, datetime.date(2017, 3, 1), &#39;M&#39;),</span>
<span class="go">     (  1, datetime.date(2016, 11, 19), &#39;M&#39;),</span>
<span class="go">     (  2, datetime.date(2016, 11, 20), &#39;U&#39;),</span>
<span class="go">     (  5, datetime.date(2016, 12, 25), &#39;F&#39;),</span>
<span class="go">     ( 10, datetime.date(2017, 1, 1), &#39;F&#39;),</span>
<span class="go">     ( 11, datetime.date(2017, 1, 3), &#39;F&#39;),</span>
<span class="go">     (100, datetime.date(2017, 5, 12), &#39;F&#39;)],</span>
<span class="go">    dtype=[(&#39;mouse_id&#39;, &#39;&lt;i8&#39;), (&#39;dob&#39;, &#39;O&#39;), (&#39;sex&#39;, &#39;O&#39;)])</span>
</pre></div>
</div>
<p>Alternatively, you can retrieve the data as a list of dictionaries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="o">&gt;&gt;&gt;</span> <span class="n">mouse</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># retrieve all data as list of dictionaries</span>
 <span class="p">[</span><span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;mouse_id&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
             <span class="p">(</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)]),</span>
<span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;mouse_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">19</span><span class="p">)),</span>
             <span class="p">(</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)]),</span>

<span class="o">...</span><span class="n">output</span> <span class="n">truncated</span><span class="o">...</span>

<span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;mouse_id&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span>
             <span class="p">(</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">)])]</span>
</pre></div>
</div>
</section>
<section id="fetching-specific-attributes">
<h2>Fetching specific attributes<a class="headerlink" href="#fetching-specific-attributes" title="Permalink to this headline"></a></h2>
<p>If you are only interested in values from a specific attribute (columns) of the table,
you can do so by passing in the name of the attribute(s) into the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> method.
Let’s try fetching only the date of birth of all mice.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">)</span>
<span class="go">array([datetime.date(2017, 3, 1), datetime.date(2016, 11, 19),</span>
<span class="go">       datetime.date(2016, 11, 20), datetime.date(2016, 12, 25),</span>
<span class="go">       datetime.date(2017, 1, 1), datetime.date(2017, 1, 3),</span>
<span class="go">       datetime.date(2017, 5, 12)], dtype=object)</span>
</pre></div>
</div>
<p>This can also be used to fetch multiple attributes separately:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sex</span><span class="p">,</span> <span class="n">ids</span> <span class="o">=</span> <span class="n">mouse</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse_id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sex</span>
<span class="go">array([&#39;M&#39;, &#39;M&#39;, &#39;U&#39;, &#39;F&#39;, &#39;F&#39;, &#39;F&#39;, &#39;F&#39;], dtype=object)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dob</span>
<span class="go">array([  0,   1,   2,   5,  10,  11, 100])</span>
</pre></div>
</div>
<p>Now that you have seen how to insert and then fetch data from a table, you could already start to use
tables to store simple data. However, the true power of DataJoint comes about when you
start combining these operations with DataJoint’s simple yet very powerful <strong>query</strong> language.</p>
</section>
<section id="querying-data">
<h2>Querying Data<a class="headerlink" href="#querying-data" title="Permalink to this headline"></a></h2>
<p>The process of <strong>querying</strong> data refers to the searching and narrowing down of the existing data to find
exactly what you need. Rather than retrieving all data and then writing your own parsing function to extract the data you want, you can use DataJoint’s query language to narrow things down first and then only
retrieve what you need. Let’s take a look, using our <code class="docutils literal notranslate"><span class="pre">Mouse</span></code> table as the example.</p>
<p>At the moment, the <code class="docutils literal notranslate"><span class="pre">Mouse</span></code> table contains several entries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go">1            2016-11-19     M</span>
<span class="go">2            2016-11-20     U</span>
<span class="go">5            2016-12-25     F</span>
<span class="go">10           2017-01-01     F</span>
<span class="go">11           2017-01-03     F</span>
<span class="go">100          2017-05-12     F</span>
<span class="go"> (7 tuples)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before moving on, feel free to add more entries into your table using any one of insert methods
that was covered in <a class="reference internal" href="inserting-data.html"><span class="doc">Populating the table</span></a>.</p>
</div>
<section id="restricting-by-attribute-value">
<h3>Restricting by attribute value<a class="headerlink" href="#restricting-by-attribute-value" title="Permalink to this headline"></a></h3>
<p>Let’s start with a very simple query, looking for an entry with a specific value of an attribute. We
can find information about the mouse with <cite>mouse_id = 0</cite> as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;mouse_id = 0&#39;</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go"> (1 tuples)</span>
</pre></div>
</div>
<p>Let’s take a closer look at what just happened. Using the table instance <code class="docutils literal notranslate"><span class="pre">mouse</span></code>, we used the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (restriction)
operation to <strong>restrict</strong> down to entries that matches the <strong>restriction</strong> <code class="docutils literal notranslate"><span class="pre">mouse_id</span> <span class="pre">=</span> <span class="pre">0</span></code>. Since there is only
one mouse with <code class="docutils literal notranslate"><span class="pre">mouse_id</span> <span class="pre">=</span> <span class="pre">0</span></code> (recall that <code class="docutils literal notranslate"><span class="pre">mouse_id</span></code> is the primary key), we get back only one entry.</p>
<p>Now, let’s say we want to list only male mice. This is easily done by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;sex = &quot;M&quot;&#39;</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go">1            2016-11-19     M</span>
<span class="go"> (2 tuples)</span>
</pre></div>
</div>
<p>Notice that <code class="docutils literal notranslate"><span class="pre">&quot;M&quot;</span></code> was surrounded by double quotes (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>) because the value was non-numeric.</p>
</section>
<section id="using-inequality-in-restriction">
<h3>Using inequality in restriction<a class="headerlink" href="#using-inequality-in-restriction" title="Permalink to this headline"></a></h3>
<p>We can also use inequalities in our query, for eample to search for all mice born after Jan 1, 2017:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;dob &gt; &quot;2017-01-01&quot;&#39;</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go">11           2017-01-03     F</span>
<span class="go">100          2017-05-12     F</span>
<span class="go"> (3 tuples)</span>
</pre></div>
</div>
<p>Or you can find all mice that are <strong>not</strong> male:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;sex != &quot;M&quot;&#39;</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">2            2016-11-20     U</span>
<span class="go">5            2016-12-25     F</span>
<span class="go">10           2017-01-01     F</span>
<span class="go">11           2017-01-03     F</span>
<span class="go">100          2017-05-12     F</span>
<span class="go"> (5 tuples)</span>
</pre></div>
</div>
</section>
<section id="combining-restrictions">
<h3>Combining restrictions<a class="headerlink" href="#combining-restrictions" title="Permalink to this headline"></a></h3>
<p>You can also <em>combine</em> multiple restrictions to form more complex queries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;dob &gt; &quot;2017-01-01&quot;&#39;</span> <span class="o">&amp;</span> <span class="s1">&#39;sex = &quot;M&quot;&#39;</span>  <span class="c1"># all male mice born after Jan 1, 2017</span>
<span class="go"> *mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go"> (1 tuples)</span>
</pre></div>
</div>
</section>
<section id="restricting-by-a-dictionary">
<h3>Restricting by a dictionary<a class="headerlink" href="#restricting-by-a-dictionary" title="Permalink to this headline"></a></h3>
<p>If you are only looking for an equivalence of attribute values (i.e. you only need to use <code class="docutils literal notranslate"><span class="pre">=</span></code> in the restriction),
you can also use a dictionary to restrict.</p>
<p>For example, the earlier query:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;sex = &quot;M&quot;&#39;</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go">1            2016-11-19     M</span>
<span class="go"> (2 tuples)</span>
</pre></div>
</div>
<p>can also be achieved using a dictionary as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">      &#39;sex&#39;: &#39;M&#39;</span>
<span class="go">    }</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="n">r</span>
<span class="go">*mouse_id    dob            sex</span>
<span class="go">+----------+ +------------+ +--------+</span>
<span class="go">0            2017-03-01     M</span>
<span class="go">1            2016-11-19     M</span>
<span class="go"> (2 tuples)</span>
</pre></div>
</div>
<p>Restricting with a dictionary comes in handy when you want to restrict by multiple attribute values.</p>
</section>
</section>
<section id="fetching-query-results">
<h2>Fetching query results<a class="headerlink" href="#fetching-query-results" title="Permalink to this headline"></a></h2>
<p>Once you are happy with your query, you can fetch only the matching entries by calling fetch on the query
result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;dob &gt; &quot;2017-01-01&quot;&#39;</span> <span class="o">&amp;</span> <span class="s1">&#39;sex = &quot;M&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span>
<span class="go">array([(0, datetime.date(2017, 3, 1), &#39;M&#39;)],</span>
<span class="go">    dtype=[(&#39;mouse_id&#39;, &#39;&lt;i8&#39;), (&#39;dob&#39;, &#39;O&#39;), (&#39;sex&#39;, &#39;O&#39;)])</span>
</pre></div>
</div>
<p>Not only does querying with DataJoint makes retrieving certain subsets of data easier, it also helps you
avoid unnecessary data transfers between the database server and your computer. While you are
forming and previewing queries, the query processing is actually performed by the database server,
and only minimal data (if any) is transferred between the database server and your computer.</p>
<p>When you call <code class="docutils literal notranslate"><span class="pre">fetch</span></code> on the query result, only the relevant data is transfered, thus potentially cutting down
the amount of data that has to be transferred out of the database server to your local machine. Not only does
it save space on your machine, but can also significantly reduce data transfer speed and also help to reduce
load on the database server.</p>
</section>
<section id="deleting-entires">
<span id="python-delete-entries"></span><h2>Deleting entires<a class="headerlink" href="#deleting-entires" title="Permalink to this headline"></a></h2>
<p>Now that we have learned how to restrict our selection from a table, it’s
an appropriate time for us to learn how to <strong>delete</strong> entries. As you might have guessed,
you can delete entries by calling the <code class="docutils literal notranslate"><span class="pre">delete</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mouse</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>      <span class="c1"># this will attept to delete ALL entries</span>
<span class="go">The contents of the following tables are about to be deleted:</span>
<span class="go">`dj_tutorial`.`mouse` (7 tuples)</span>
<span class="go">Proceed? [yes, No]: no</span>
</pre></div>
</div>
<p>Either hit enter without typing anything or type in “no” to cancel the deletion. If you can only
delete all entries, then this would not be too useful. Fortunately, you can delete restricted
table. For example, if I want to specifically delete mouse with ID of 10:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">mouse</span> <span class="o">&amp;</span> <span class="s1">&#39;mouse_id = 10&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="go">The contents of the following tables are about to be deleted:</span>
<span class="go">dj_tutorial`.`mouse` (1 tuples)</span>
<span class="go">Proceed? [yes, No]: no</span>
</pre></div>
</div>
</section>
<section id="what-s-next">
<h2>What’s next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline"></a></h2>
<p>In this section, we learned how to fetch data from the table using the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> method. We also met our
first query operation, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (restriction) and learned how it can be used to narrow down your query
results and fetch them. Finally we learned how to delete table entries using <code class="docutils literal notranslate"><span class="pre">delete</span></code> method, and
also learned how to delete only specific entires by using restriction on the table.
As you progress through the tutorials and create more tables, you will learn additional
operations and how to combine them into more powerful yet intuitive queries.</p>
<p>In the <a class="reference internal" href="child-table.html"><span class="doc">next section</span></a>, we will move forward in our data pipeline creation by creating and <strong>linking</strong> additional
tables together.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="save-tables.html" class="btn btn-neutral float-left" title="Saving your data pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="child-table.html" class="btn btn-neutral float-right" title="Defining dependent table" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, DataJoint Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>